<html>
<head>
  <title></title>
  <style type="text/css">
    .style1 {
      font-family: Arial, Helvetica, sans-serif;
      font-size: 10pt;
    }
  </style>
</head>
<body class="style1">
<p>
A node can have any number of independent logical and physical connector elements, known as "ports".
Just set the <strong>go:Node.PortId</strong> attached property on any <strong>FrameworkElement</strong>.
</p>
<p>
This sample demonstrates how a node could have a variable number of ports, along with the ability
to add or remove ports dynamically.  The node data class, <strong>Unit</strong>, has four lists
of data, one for each side of the node.  Each of these data, <strong>Socket</strong>, describes one port.
The <strong>Socket.Name</strong> is used as the <strong>Node.PortId</strong>,
the <strong>Socket.Color</strong> is used to customize the color of the port element,
and the <strong>Side</strong> and <strong>Index</strong> properties remember where the port should be.
</p>
<p>
The NodeTemplate uses four <strong>ListBox</strong>es around a central <strong>Rectangle</strong>.
The <strong>ListBox.ItemsSource</strong> is data-bound to a list of <strong>Unit</strong> <strong>Socket</strong>s.
The <strong>ListBox.ItemTemplate</strong> is basically a <strong>Rectangle</strong>,
binding the <strong>go:Node.PortId</strong> to the <strong>Socket.Name</strong> unique string.
</p>
<p>
Because a <strong>ListBox</strong> normally supports selecting items, we use a custom <strong>InertListBox</strong>
and <strong>InertListBoxItem</strong> in order to disable mouse event handling.
</p>
<p>
There are four <strong>Button</strong>s to add a port on the selected node.
These buttons are enabled by whether <strong>Diagram.SelectedNode</strong> is non-null.
Each button, when clicked, adds a <strong>Socket</strong> to one side of the selected <strong>Unit</strong>.
Through the magic of data-binding, that will cause the corresponding <strong>ListBox</strong>
to get an additional FrameworkElement representing a port.
Note how this change is performed within a transaction, as should every change to a model or its data.
</p>
<p>
A particular port can be removed by right-clicking on it.
(Except in Silverlight 3, where right mouse clicks are not supported.)
</p>
</body>
</html>
