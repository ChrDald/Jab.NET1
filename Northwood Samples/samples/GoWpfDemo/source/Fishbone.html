<html>
<head>
  <title></title>
  <style type="text/css">
    .style1 {
      font-family: Arial, Helvetica, sans-serif;
      font-size: 10pt;
    }
  </style>
</head>
<body class="style1">
<p>
This sample reads XML data tree and produces a "fishbone" diagram of cause-and-effect relationships.
For expository purposes the same diagram can also be laid out in a "branching" tree or a normal layered tree.
The information in this sample comes from www.hci.com.au.
</p>
<p>
The XML data, in this sample stored as an embedded resource file,
consists of nested elements describing causes for the root effect.
Unlike the typical XML data, the nesting of the node elements
implicitly defines the tree structure.
</p>
<p>
"Fishbone" layout is implemented as a custom layout.
It assumes that the angle of this kind of tree layout is horizontal.
Alternating layers have links at an angle, aiming causes towards their parent cause/effect.
However in the tree structure, the parent <b>Node</b> is not positioned in the normal place,
but at the opposite end of the "fishbone" axis.
This is achieved by adding a dummy node to the <b>TreeLayout</b>'s <b>TreeNetwork</b>.
The dummy node is always placed at the end of the "Bus" alignment.
Then the <b>LayoutNodes</b> method repositions the parent Node to be where the dummy node was positioned.
</p>
<p>
Furthermore there is a custom routing implemented to make sure that the links connecting vertically to
nodes have segments that are oriented correctly at a +/- 60-degree angle.
This ensures the proper routing even when the user manually moves a node.
Because that routing cannot be used for the regular "branching" and "normal" layouts,
the button event handlers have to explicitly replace the <b>Diagram.LinkTemplate</b> appropriately.
If you were only using a single layout you would not need to replace either the link template
nor the <b>Diagram.Layout</b>.
</p>
</body>
</html>
